<!DOCTYPE html>
<html ng-app="myApp">
    <!--ng-app define el espacio del DOM donde actuará Angular, y lo vincula con el módulo que hemos llamado "myApp" -->
    <head>
        <!--El núcleo de Angular -->
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular.min.js"></script>

        <script type="text/javascript">
            angular.module('myApp', ['myAppServices']);       
        </script>


        <script type="text/javascript">
            function BreakinBadCharCtrl($scope, BreakinBadChar) { $scope.characters = BreakinBadChar.query(); }
        </script>


        <script type="text/javascript">
            angular.module('myAppServices', ['ngResource']).
                factory('BreakinBadChar', function($resource){
                    return $resource(':resourceName', {}, {
                                query: {
                                    method:'GET', 
                                    params: { resourceName:'json' }, 
                                    isArray: true
                                }
                    });
                });
        </script>

        <!--Esta extensión nos ayudará a manejar de forma sencilla las llamadas al API -->
        <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.8/angular-resource.min.js"></script>
    </head>
    <body>
        <table id="breakingBadChar" ng-controller="BreakinBadCharCtrl">
            <!-- ng-controller define qué controlador se encargará de manejar la tabla-->
            <thead>
                <tr>
                    <td>Nombre</td>
                    <td>Apellido</td>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="character in characters">
                    <!-- ng-repeat function como un "for" iterando la variable characters hidratada en el controlador -->
                    <!-- Muestra los datos del registro -->
                    <td>{{character.name}}</td>
                    <td>{{character.surname}}</td>
                </tr>
            </tbody>
        </table>
    </body>
</html>